<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Resolução Prova</title>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.1/css/all.css">
	<!-- -----------------------------------------CSS------------------------------------------------- -->
	<style>
		.esconder{
				display: none;
		}
		.tableJogoVelha{
				background-color: #14bdac;	
		}

		.celula{
				width: 30px;
    			height: 30px;
				text-align: center;
		}
	</style>
	<!-- --------------------------------------FIM_CSS------------------------------------------------- -->
</head>
<body>
		<!-- -----------------------------------HTML------------------------------------------------ -->
		<h1 align="center">Jogo da Velha</h1>
		<!-- --------------------------------------------------------------------------------------- -->
		<div>
			<h2 align="center" id="vezDeX" class="esconder">É a vez do X</h2>
			<h2 align="center" id="vezDeO" class="esconder">É a vez do O</h2>
		</div>
		<!-- --------------------------------------------------------------------------------------- -->
		<!-- <i class="far fa-circle"></i> -->
		<!-- <i class="fas fa-times"></i> -->
		<!-- --------------------------------------------------------------------------------------- -->
		<table class="tableJogoVelha" align="center"  border="2" >
			<tr>
				<td class="celula" id="linha1Coluna1" onclick="adicionarXAqui('linha1Coluna1', 1)"></td>
				<td class="celula" id="linha1Coluna2" onclick="adicionarXAqui('linha1Coluna2', 2)"></td>
				<td class="celula" id="linha1Coluna3" onclick="adicionarXAqui('linha1Coluna3', 3)"></td>
			</tr>
			<tr>
				<td class="celula" id="linha2Coluna1"  onclick="adicionarXAqui('linha2Coluna1', 4)"></td>
				<td class="celula" id="linha2Coluna2"  onclick="adicionarXAqui('linha2Coluna2', 5)"></td>
				<td class="celula" id="linha2Coluna3"  onclick="adicionarXAqui('linha2Coluna3', 6)"></td>
			</tr>

			<tr>
				<td class="celula" id="linha3Coluna1" onclick="adicionarXAqui('linha3Coluna1', 7)"></td>
				<td class="celula" id="linha3Coluna2" onclick="adicionarXAqui('linha3Coluna2', 8)"></td>
				<td class="celula" id="linha3Coluna3" onclick="adicionarXAqui('linha3Coluna3', 9)"></td>
			</tr>
		</table>
		<!-- -------------------------------FIM_HTML------------------------------------------------ -->
</body>
	<!-- -----------------------------------------JS-------------------------------------------- -->
	<script type="text/javascript">
		var quadrantesMarcados = [];

		var arrayIdComQuadrante = [
			"",  //index 0
			"linha1Coluna1", // index 1
			"linha1Coluna2", // index 2
			"linha1Coluna3", // index 3
			"linha2Coluna1", // index 4
			"linha2Coluna2", // index 5
			"linha2Coluna3", // index 6
			"linha3Coluna1", // index 7
			"linha3Coluna2", // index 8
			"linha3Coluna3", // index 9
		]
		//---------------------------------------------------------------------------------------
		function adicionarXAqui(idCelula, quadrante){	
				if(quadrantesMarcados.indexOf(quadrante) == -1 ){
					mostrar('vezDeX');
					preencheVelha(idCelula, "x", quadrante)
			 		efetuarJogadaDaMaquina();			
				}				
		}
		//---------------------------------------------------------------------------------------
		function efetuarJogadaDaMaquina(){
			
				var quadranteMaquina = Math.floor(Math.random() * 10);
				if(quadrantesMarcados.indexOf(quadranteMaquina) == -1 ){		
						mostrar('vezDeO');				
						console.log("NÃO ESTAVA PREENCHIDO. Quandrante: " + quadranteMaquina );
						idQuadranteEscolhidoPelaMaquina = arrayIdComQuadrante[quadranteMaquina]
						preencheVelha(idQuadranteEscolhidoPelaMaquina, "O", quadranteMaquina)}
						else{
							console.log("ACHEI PREENCHIDO. Quandrante: " + quadranteMaquina );
							jogarNovamente();
							}
		}
		//---------------------------------------------------------------------------------------
		function jogarNovamente(){
			efetuarJogadaDaMaquina();
		}
		//---------------------------------------------------------------------------------------
		function preencheVelha(idQuadrante, tipo, valorQuadrante){
			if(valorQuadrante == 0){
				jogarNovamente();
			}
			var elemento = document.getElementById(idQuadrante);
			if(tipo == "x"){
							elemento.innerHTML = "<i class='fas fa-times'></i>";	
							
			}
				else{			
					setTimeout(() => {  
									  elemento.innerHTML = "<i class='far fa-circle'></i>";
							          console.log("COLOQUEI O CIRCULO");
				                      }, 2000);

							
			}
			quadrantesMarcados.push(valorQuadrante); //adiciona elementos a um array	
		}
		//---------------------------------------------------------------------------------------
		function mostrar(idQueEUQuero){
						document.getElementById(idQueEUQuero).style.display = 'block'}
				
		// Nao consegui implementar esta função	
		//---------------------------------------------------------------------------------------
		 function Esconder(idQueEuPreciso){
		 		document.getElementById(idQueEuPreciso).style.display = 'none'}
					
	</script>
	<!-- ------------------------------------------FIM_JS-------------------------------------------- -->
</html>